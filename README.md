# Workout-App

A small, locally hosted web application to log and review personal workouts.  
Designed as a single-user, mobile-friendly tracker with a minimal, self-contained stack (Spring Boot + SQLite) so you can run it entirely on your machine.

---

## Table of contents

- [Features](#features)
- [Quick start](#quick-start)
- [API (MVP core)](#api-mvp-core)
- [UI (Future / second milestone)](#ui-future--second-milestone)
- [Project structure & implementation notes](#project-structure--implementation-notes)
- [Milestones](#milestones)
- [Verification & testing](#verification--testing)
- [Contributing](#contributing)

---

## Features

Must have (MVP)
- Log a workout with:
  - Date
  - Exercise name
  - Sets
  - Repetitions
  - Weight
  - Optional notes
- View a list of previously logged workouts
- Run entirely locally (no cloud)
- Accessible via desktop and mobile browser
- Single-user system (no authentication)

Should have
- Edit or delete logged workouts
- Simple, mobile-optimized UI
- Persistent storage with a local database (SQLite)

Could have
- Basic filtering by date or exercise
- Simple statistics (e.g., max weight per exercise)

Won’t have (MVP)
- Cloud sync
- User accounts or authentication
- Social/sharing features

---

## Quick start

Requirements
- Java 17+
- Maven
- (Optional) sqlite3 CLI to inspect the DB file

Run locally
1. Clone the repo:
   git clone https://github.com/bnassri/Workout-App.git
2. Build the project:
   mvn -DskipTests package
3. Run:
   java -jar target/workout-app-*.jar
   or
   mvn spring-boot:run

Configuration
- The application uses SQLite and reads DB configuration from `application.yml` under `src/main/resources`.
- The default DB is a local file (e.g., `workouts.db`) placed next to the application unless overridden.

Open a browser at:
- http://localhost:8080 (Thymeleaf UI — once implemented)
- The REST API is available under `/api/*` (see examples below).

---

## API (MVP core)

Goal: Start a workout session and add a set via REST API.

Important endpoints (MVP)
- Start a session
  - POST /api/workout-sessions/start
  - Example:
    curl -s -X POST http://localhost:8080/api/workout-sessions/start \
      -H "Content-Type: application/json" \
      -d '{"date":"2026-01-06"}'

  - Response (example):
    {
      "id": "uuid-of-session",
      "date": "2026-01-06"
    }

- Add a set to a session
  - POST /api/workout-sessions/{id}/sets
  - Example payload:
    {
      "exerciseName": "Bench Press",
      "sets": 1,
      "repetitions": 8,
      "weight": 85.0,
      "notes": "Felt strong"
    }
  - Example curl:
    curl -s -X POST http://localhost:8080/api/workout-sessions/<SESSION_UUID>/sets \
      -H "Content-Type: application/json" \
      -d '{"exerciseName":"Bench Press","sets":1,"repetitions":8,"weight":85.0,"notes":"Felt strong"}'

- View sessions (server-rendered UI)
  - GET /workouts (Thymeleaf page showing history — once UI milestone is done)

Notes
- The exact request/response JSON field names match the DTOs in the codebase (e.g., `AddWorkoutSetRequest`, `CreateWorkoutSessionResponse`).
- IDs are UUIDs generated by the application.

---

## UI (Future / second milestone)

Planned pages and behaviors:
- Workouts history page (Thymeleaf): browse, edit, delete sessions and sets.
- Live session page (JavaScript):
  - Start session
  - Add sets live
  - Rest timer
  - Live volume calculation per exercise

---

## Project structure & implementation notes

Base package: `com.example.workoutlogger`

High-level layout
- WorkoutLoggerApplication.java
- controller/
  - WorkoutViewController.java
  - WorkoutSessionApiController.java
- service/
  - WorkoutSessionService.java
- repository/
  - WorkoutSessionRepository.java
  - WorkoutSetRepository.java
- domain/
  - WorkoutSession.java
  - WorkoutSet.java
- dto/
  - CreateWorkoutSessionResponse.java
  - AddWorkoutSetRequest.java
- resources/
  - templates/
    - workouts.html
  - application.yml

Entity notes
- Use UUID as primary key (IDs generated in the application layer).
- Map WorkoutSession → WorkoutSet as one-to-many.
- Keep entities free of UI concerns (no view logic in domain layer).

Persistence
- Spring Data JPA with SQLite (via `sqlite-jdbc`).
- Repositories implemented with Spring Data interfaces for quick CRUD operations.

---

## Milestones

1. Foundation
   - Spring Boot app runs and SQLite configured.
2. Session API (MVP core)
   - Start session endpoint.
   - Add set endpoint.
   - Data persists to a SQLite file.
3. Persistence
   - Sets stored and retrievable.
4. Live Session UI
   - JavaScript-based logging, rest timer, live volume calculations.
5. History View
   - Server-rendered browsing and basic editing/deleting.

---

## Verification & testing

- Verify workouts persist across application restarts by checking the SQLite file (`workouts.db`).
- Use curl or Postman to exercise the REST endpoints (examples above).
- Check the Thymeleaf pages in a desktop and mobile browser once implemented; measure responsiveness during live session logging.

---

## Contributing

- This is a personal project but patches are welcome.
- Suggested workflow:
  1. Fork the repo
  2. Create a feature branch
  3. Open a pull request describing the change and the reasoning
- Keep changes small and focused (e.g., API only, UI only).

---

If you'd like, I can:
- Improve the README further (add examples of full responses or sample DB schema),
- Add curl/Postman collection, or
- Produce a simple `workouts.html` Thymeleaf template and minimal JavaScript for the live session page.

Which of those would you like next?
