<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Templates</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<nav class="nav">
    <span class="nav__logo">âš¡ Workout Logger</span>
    <div class="nav__links">
        <a href="/">Home</a>
        <a href="/templates" class="active">Templates</a>
        <a href="/workout-history">History</a>
    </div>
</nav>

<div class="page">

    <div class="page-header" style="display:flex; justify-content:space-between; align-items:flex-end;">
        <div>
            <h1>Templates</h1>
            <p>Saved workout blueprints.</p>
        </div>
        <a href="/templates/create" class="btn btn--primary">+ New</a>
    </div>

    <!-- Empty state -->
    <div th:if="${templates.isEmpty()}" class="empty">
        <div class="empty__icon">ðŸ“‹</div>
        <p>No templates yet. Create one to save your favourite workout.</p>
        <a href="/templates/create" class="btn btn--primary" style="margin-top:1rem;">Create Template</a>
    </div>

    <!-- Template cards -->
    <div th:if="${!templates.isEmpty()}">
        <div th:each="template : ${templates}" class="card" style="display:flex; justify-content:space-between; align-items:flex-start;">
            <div style="flex:1;">
                <div style="display:flex; align-items:center; gap:.6rem; margin-bottom:.5rem;">
                    <strong th:text="${template.name}" style="font-size:1.05rem;"></strong>
                    <span class="badge badge--green" th:text="${template.exercises.size() + ' exercises'}">0 exercises</span>
                </div>
                <div>
                    <span th:each="ex : ${template.exercises}" class="pill" th:text="${ex.exerciseName}">Exercise</span>
                </div>
            </div>
            <a th:href="@{/templates/edit/{id}(id=${template.id})}" class="btn btn--ghost" style="flex-shrink:0;">Edit</a>
        </div>
    </div>

</div>

</body>
</html>
